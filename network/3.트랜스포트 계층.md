# 3. 트랜스포트 계층

트랜스포트 프로토콜은 종단시스템에서 수행된다. 
send side : 메시지를 세그먼트로 분할하여 네트워크 계층으로 전달 
rcv side : 세그먼트를 메시지로 조립하여 어플리케이션으로 전달
ㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱㄱ
트랜스포트 프로토콜은 TCP, UDP 두 가지 종류가 있다. 

(네트워크 계층과 트랜스포트 계층의 차이)?? 3-1p sdide 3

TCP란? : 신뢰적, 연결형 배달 
UDP란? : 비신뢰, 비연결형 배달


다중화/역다중화란?
다중화 : 여러 소켓으로 부터 데이터를 수집하여 헤더를 붙여 전송하는 것 
역 다중화 : 수신된 세그먼트를 올바른 소켓에 전달하는 것  

역다중화 동작 원리 : 
각 데이터그램은 송신 ip, 수신 ip, 트랜스포트 세그먼트를 가지고 있음 
각 세그먼트는 송신과 수신 포트 번호를 같는다. 
호스트는 ip주소와 포트번호를 통해 적절한 소켓으로 세그먼트를 전달한다. 


비연결형 역다중화란? UDP의 역다중화 
연결지향형 역다중화? TCP의 역다중화  



UDP의 특징 : 
연결 과정이 없다. 
따라서 손실이 가능하다. 어플리케이션 순서가 다르게 도착할 수 있다. 
혼잡제어가 없지만 빠르게 전달될 수 있다. 그리고 간편하다. 

스트리밍 멀티미디어 사용된다. 손실은 허용되지만 전송률에 민감하기 때문이다.

UDP checksum : 전송된 세그먼트에서 에러를 검출하는 것 

sender : 
세그먼트 안에 16bits 워드의 합으로 1의 보수를 수행한다. 
결과를 udp segment checksum field에 삽입한다. 

receiver는 checksum 결과 값이 모두 1인지 확인한다. 
하나라도 0이 있다면 에러가 발생한다. 
모두 1인 경우 에러가 발생하지 않았다고 가정한다. (그러나 에러가 발생할 수도 있다.)

slide 3-2
3.4 tcp 데이터 전송 원리  

손실이 없는 경우
sender의 pkt이 손실된 경우
receiver의 ark가 손실된 경우
타임아웃 된 경우  


TCP 특징



TCP의 흐름제어와 혼잡제어

TCP의 공평성 


network layer(데이터 평면)

